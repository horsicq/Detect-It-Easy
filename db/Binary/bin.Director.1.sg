// Detect It Easy: detection rule file
// Author: BJNFNE <bjnfne@web.de>

// Director File Format Info:
// XFIR = 58464952 (Big endian)
// RIFX = 52494658 (Little endian)
// Platform type:
// BE = Mac based Director game
// LE = Windows based Director game 

// https://github.com/rvanlaar/director-extrator/blob/master/extract.py
// https://github.com/einstein95/py_scripts/blob/main/shock.py
// https://wiki.scummvm.org/index.php?title=Director
meta("format", "Director (.DXR/.DIR/.DCR/.DRX/.CXT/.CST/.CCT)");

function detect() {
    if (Binary.compare("52494658........'MV93imap'")) {
        sOptions = "MV93imap";
        sVersion = "Win";
        bDetected = true;
    } else if (Binary.compare("52494658........'MC95imap'")) {
        sOptions = "MC95imap";
        sVersion = "Win";
        bDetected = true;
    } else if (Binary.compare("52494658........'FGDMFver'")) {
        sOptions = "FGDMFver";
        sVersion = "Win";
        bDetected = true;
    } else if (Binary.compare("58464952........'39VMpami'")) {
        sOptions = "39VMpami";
        sVersion = "Mac";
        bDetected = true;
    } else if (Binary.compare("58464952........'CDGFrevF'")) {
        sOptions = "CDGFrevF";
        sVersion = "Mac";
        bDetected = true;
    } else if (Binary.compare("52494658........'FGDCFver'")) {
        sOptions = "FGDCFver";
        sVersion = "Win";
        bDetected = true;
    } else if (Binary.compare("58464952........'MDGFrevF'")) {
        sOptions = "MDGFrevF";
        sVersion = "Mac";
        bDetected = true;
    } else if (Binary.compare("58464952........'59CMpami'")) {
        sOptions = "59CMpami";
        sVersion = "Mac";
        bDetected = true;
    }

    return result();
}