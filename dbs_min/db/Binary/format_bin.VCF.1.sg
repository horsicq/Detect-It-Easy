function detect(){var i,S,a,d,f
if(!(!X.c("'BEGIN:VCARD'0d0a")||(i=X.fSig(20,8192,"0d0a'END:VCARD'"))<20||(S=X.fSig(10,i,"0d0a'VERSION:'"))<10)&&/\d(\.\d)?/.test(S=X.SA(S+10,3).trim()))return bDetected=1,a=2.1,d=i+13,f=11,sVersion="v"+S,X.isVerbose()&&((X.fSig(f,i,"0d0a'GEO:geo:'")>f||X.fSig(f,i,"0d0a'ANNIVERSARY'")>f||X.fSig(f,i,"0d0a'CALADRURI'")>f||X.fSig(f,i,"0d0a'CALURI'")>f||X.fSig(f,i,"0d0a'CLIENTPIDMAP'")>f||X.fSig(f,i,"0d0a'FBURL'")>f||X.fSig(f,i,"0d0a'GENDER'")>f||X.fSig(f,i,"0d0a'PRONOUNS'")>f||X.fSig(f,i,"0d0a'KIND'")>f||X.fSig(f,i,"0d0a'MEMBER'")>f||X.fSig(f,i,"0d0a'RELATED'")>f||X.fSig(f,i,"0d0a'XML'")>f)&&(a=4),(+S<(a=X.fSig(f,i,"0d0a'CATEGORIES:'")>f||X.fSig(f,i,"0d0a'CLASS:'")>f||X.fSig(f,i,"0d0a'IMPP'")>f||X.fSig(f,i,"0d0a'NAME'")>f||X.fSig(f,i,"0d0a'NICKNAME'")>f||X.fSig(f,i,"0d0a'PRODID'")>f||X.fSig(f,i,"0d0a'PROFILE'")>f||X.fSig(f,i,"0d0a'SORT-STRING'")>f?Math.max(a,3):a)||4==a&&"4.0"==S&&(X.fSig(f,i,"0d0a'LABEL'")>f||X.fSig(f,i,"0d0a'SORT-STRING'")>f))&&sOption("version-incompatible fields"),sOption(outSz(d),"sz:")),result()}meta("format","vCard/Virtual Contact File (.VCF,.vcard)")